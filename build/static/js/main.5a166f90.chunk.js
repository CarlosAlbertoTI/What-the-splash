(this["webpackJsonpwhat-the-splash"]=this["webpackJsonpwhat-the-splash"]||[]).push([[0],{23:function(e,t,n){e.exports=n(39)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(12),s=n.n(c),o=n(11),u=n(7),i=n(21),l={LOAD:"LOAD_IMAGES",LOAD_SUCCESS:"LOAD_SUCCESS",LOAD_FAILURE:"LOAD_FAILURE "},d={LOAD:"LOAD_STATS",LOAD_SUCCESS:"STATS_SUCCESS",LOAD_FAILURE:"STATS_FAILURE "},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.LOAD_FAIL:return t.error;case l.LOAD:case l.LOAD_SUCCESS:return null;default:return e}},f=n(18),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===l.LOAD_SUCCESS?[].concat(Object(f.a)(e),Object(f.a)(t.images)):e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.LOAD:return!0;case l.LOAD_SUCCESS:case l.LOAD_FAILURE:return!1;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.LOAD_SUCCESS:return e+1;default:return e}},h=n(10),L=n(9),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD:return Object(L.a)(Object(L.a)({},e),{},Object(h.a)({},t.id,{isLoading:!0,downloads:null,error:!1}));case d.LOAD_SUCCESS:return Object(L.a)(Object(L.a)({},e),{},Object(h.a)({},t.id,{isLoading:!1,downloads:t.downloads,error:!1}));case d.LOAD_FAIL:return Object(L.a)(Object(L.a)({},e),{},Object(h.a)({},t.id,{isLoading:!1,downloads:null,error:!0}));default:return e}},E=Object(u.c)({isLoading:b,images:p,error:O,page:S,imageStats:v}),m=n(4),g=n.n(m),A=n(6),w=n(17),j="?client_id=PvqALsj-uAHV4v4VoSZMebbWbIhwqdhKSMvfST1WCJI",_="https://api.unsplash.com/photos/",D=function(){var e=Object(w.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_).concat(j,"&per_page=3&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(w.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/").concat(t,"/statistics").concat(j));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){return{type:l.LOAD}},U=function(e){return{type:l.LOAD_SUCCESS,images:e}},k=function(e){return{type:d.LOAD,id:e}},y=function(e,t){return{type:d.LOAD_SUCCESS,id:e,downloads:t}},I=function(e){return{type:l.LOAD_FAILURE,id:e}},N=g.a.mark(R),T=g.a.mark(M),F=function(e){return e.page};function R(){var e,t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(A.e)(F);case 3:return e=n.sent,n.next=6,Object(A.b)(D,e);case 6:return t=n.sent,n.next=9,Object(A.d)(U(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(A.d)((r=n.t0.toString(),{type:l.LOAD_FAILURE,error:r}));case 15:case"end":return n.stop()}var r}),N,null,[[0,11]])}function M(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.g)(l.LOAD,R);case 2:case"end":return e.stop()}}),T)}var J=g.a.mark(X),V=g.a.mark(W);function X(e){var t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<3)){r.next=18;break}return r.prev=2,r.next=5,Object(A.d)(k(e));case 5:return r.next=7,Object(A.b)(x,e);case 7:return n=r.sent,r.next=10,Object(A.d)(y(e,n.downloads.total));case 10:return r.abrupt("return",!0);case 13:r.prev=13,r.t0=r.catch(2);case 15:t++,r.next=1;break;case 18:return r.next=20,Object(A.d)(I(e));case 20:case"end":return r.stop()}}),J,null,[[2,13]])}function W(){var e,t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(A.f)(l.LOAD_SUCCESS);case 3:e=r.sent,t=e.images,n=0;case 6:if(!(n<t.length)){r.next=12;break}return r.next=9,Object(A.c)(X,t[n].id);case 9:n++,r.next=6;break;case 12:r.next=0;break;case 14:case"end":return r.stop()}}),V)}var q=W,B=g.a.mark(G);function G(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([M(),q()]);case 2:case"end":return e.stop()}}),B)}var H=function(){var e=Object(i.a)(),t=Object(u.e)(E,window.__REDUX_DEVTOOLS_EXTENSION__?Object(u.d)(Object(u.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(u.a)(e));return e.run(G),t},K=(n(35),function(){return a.a.createElement("header",null,"What the Splash!")}),P=(n(36),n(22)),Z=(n(37),function(e){var t=e.children,n=e.loading,r=void 0!==n&&n,c=Object(P.a)(e,["children","loading"]);return a.a.createElement("button",Object.assign({className:"button",disabled:r},c),r?"Loading...":t)}),z=(n(38),function(e){var t=e.stats;return t?a.a.createElement("span",{className:"stats"},t.error&&"\ud83e\udd2f Error!",t.isLoading&&"\ud83d\ude44 Loading...",null!==t.downloads&&"\ud83e\udd18 ".concat(t.downloads)):a.a.createElement("span",{className:"stats"},"Loading...")}),Q=function(){var e=Object(o.c)((function(e){return e})),t=e.images,n=e.error,c=e.isLoading,s=e.imageStats,u=Object(o.b)();return Object(r.useEffect)((function(){u(C())}),[u]),a.a.createElement("div",{className:"content"},a.a.createElement("section",{className:"grid"},c&&a.a.createElement("h1",null,"Loading....."),!c&&t.map((function(e){return a.a.createElement("div",{key:e.id,className:"item item-".concat(Math.ceil(e.height/e.width))},a.a.createElement(z,{stats:s[e.id]}),a.a.createElement("img",{src:e.urls.small,alt:e.user.username}))}))),n&&a.a.createElement("div",{className:"error"},JSON.stringfy(n)),a.a.createElement(Z,{onClick:function(){return!c&&u(C())},loading:c},"Load Images"))},Y=H();var $=function(){return a.a.createElement(o.a,{store:Y},a.a.createElement("div",null,a.a.createElement(K,null),a.a.createElement(Q,null)))};s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement($,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.5a166f90.chunk.js.map